<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>$Bara ‚Äî Arcade memecoin</title>

  <!-- Global site styles -->
  <link rel="stylesheet" href="./assets/css/style.css" />

  <!-- Libs -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1"></script>
  <script defer src="https://unpkg.com/swup@4"></script>

  <!-- App -->
  <script defer src="./assets/js/app.js"></script>

  <!-- Responsive + Hamburger menu styles -->
  <style>
    :root { --tap: 48px; }

    /* Make pill-nav scrollable if needed */
    .nav .pill-nav {
      display: flex;
      gap: 10px;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      max-width: 100%;
      align-items: center;
    }
    .nav .pill-nav::-webkit-scrollbar { display: none; }

    /* Hamburger button (hidden on desktop) */
    .nav-toggle {
      display: none;
      background: none;
      border: 1px solid rgba(255,255,255,.08);
      color: var(--ink);
      border-radius: 12px;
      padding: 8px 12px;
      font-size: 20px;
      line-height: 1;
      cursor: pointer;
    }

    /* Desktop baseline */
    .nav .nav-inner {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    .nav .logo { flex: 0 0 auto; }
    .nav .pill-nav { flex: 1 1 auto; justify-content: center; }
    .nav .cta { flex: 0 0 auto; }

    /* HERO responsive grid */
    @media (max-width: 1024px) {
      .hero-grid { display: grid; grid-template-columns: 1fr; gap: 16px; }
    }

    /* General mobile tweaks */
    @media (max-width: 900px) {
      .scene .container { padding-left: 14px; padding-right: 14px; }
    }
    @media (max-width: 800px) {
      .carousel { display: grid; grid-template-columns: 1fr; gap: 12px; }
    }
    @media (max-width: 700px) {
      .steps { gap: 12px; }
      .faq .item { padding: 10px 12px; }
    }
    @media (max-width: 640px) {
      #getBara { display: none; }
    }
    @media (max-width: 600px) {
      .btn, .pill, .cta, button.play { min-height: var(--tap); font-size: 16px; }
      .cta-row { display: grid; grid-template-columns: 1fr; gap: 10px; }
      .cta-row .btn { width: 100%; }
    }

    /* ===== Mobile hamburger behavior ===== */
    @media (max-width: 640px) {
      .nav .nav-inner {
        gap: 10px;
        padding-left: 12px;
        padding-right: 12px;
      }
      .nav-toggle { display: inline-flex; align-items: center; justify-content: center; }
      /* collapse pills by default on mobile */
      .nav .pill-nav { display: none; }
      /* when open, show the menu stacked */
      .nav.open .pill-nav {
        display: flex;
        flex-direction: column;
        gap: 8px;
        padding: 10px;
        background: rgba(10,14,28,.6);
        border: 1px solid rgba(255,255,255,.06);
        border-radius: 14px;
      }
      /* layout: logo + toggle + cta on one row */
      .nav .nav-inner { display: grid; grid-template-columns: auto 1fr auto; align-items: center; }
      .nav .logo { grid-column: 1 / 2; }
      .nav-toggle { grid-column: 2 / 3; justify-self: center; }
      .nav .cta { grid-column: 3 / 4; justify-self: end; }
      /* menu occupies full row underneath when open */
      .nav.open .pill-nav { grid-column: 1 / -1; }
    }
    /* --- Fix mobile clipping / right-edge cutoffs --- */
html, body { overflow-x: hidden; }            /* prevent any horizontal scroll */
.scene, .scene .container { overflow: visible; }

@media (max-width: 640px) {
  /* make sure hero cards never exceed viewport width */
  .hero-grid,
  .hero-grid .card,
  .hero-art,
  .hero-art .chart-wrap {
    max-width: 100%;
    width: 100%;
  }

  /* tighten side paddings so cards don't "kiss" the edge */
  .scene .container { padding-left: 12px; padding-right: 12px; }

  /* reveal animations shouldn‚Äôt clip content */
  .reveal { overflow: visible; }

  /* keep chart neatly inside its card on tiny screens */
  .hero-art .chart-wrap { overflow: hidden; border-radius: inherit; }
  .hero-art .chart-wrap canvas { width: 100% !important; height: auto !important; }
}

  </style>
</head>

<!-- safety net: if a magic link lands here, bounce into /game/ with the hash -->
<script>
  (function () {
    var h = location.hash || "";
    if (h.indexOf("access_token=") !== -1 || h.indexOf("refresh_token=") !== -1) {
      location.replace(location.origin + "/game/" + h);
    }
  })();
</script>

<body>
  <!-- starfield backdrop -->
  <canvas class="stars" aria-hidden="true"></canvas>

  <!-- LOADER (shows on every fresh load/refresh) -->
  <div id="loader" class="loader" aria-live="polite">
    <div class="load-card">
      <img class="load-gif" src="./assets/img/loader.gif" alt="Loading..." />
      <div class="load-bar"><div class="load-fill" id="loadFill"></div></div>
      <div class="load-text" id="loadText">ALMOST READY‚Ä¶</div>
      <div class="load-tip" id="loadTip"></div>
    </div>
  </div>

  <!-- NAV -->
  <nav class="nav" id="siteNav">
    <div class="nav-inner">
      <a class="logo" href="#home">üü£ <span>$Bara</span></a>

      <!-- Hamburger button (mobile only via CSS) -->
      <button class="nav-toggle" id="navToggle" aria-label="Menu" aria-expanded="false" aria-controls="navMenu">‚ò∞</button>

      <!-- Pills menu (collapses on mobile) -->
      <div class="pill-nav" id="navMenu">
        <a class="pill active" href="#home">Home</a>
        <a class="pill" href="#about">About</a>
        <a class="pill" href="#arcade">Arcade</a>
        <a class="pill" href="#how">How to Buy</a>
        <a class="pill" href="#faq">FAQ</a>
      </div>

      <a class="cta" href="#" onclick="alert('Buy link coming soon')">Buy $BARA</a>
    </div>
  </nav>

  <!-- Swup page container (used for smooth transitions) -->
  <div id="swup" class="transition-fade">
    <main id="home">
      <!-- SCENE 1: HERO -->
      <section class="scene hero-scene" id="homeSection">
        <div class="container">
          <div class="hero-grid reveal">
            <!-- Left card -->
            <div class="card">
              <h1 class="headline">Welcome to <span class="accent">Bara</span></h1>
              <p class="muted">Arcade-first memecoin. Clean vibes, crispy games, and a community that actually plays.</p>

              <div class="badges">
                <div class="badge">Ticker: <b>$BARA</b></div>
                <div class="badge">Chain: <b>Solana</b></div>
                <div class="badge">Supply: <b>1,000,000,000</b></div>
                <div class="badge">Tax: <b>0% / 0%</b></div>
              </div>

              <div class="cta-row">
                <a class="btn primary" href="#arcade">Enter Arcade</a>
                <a class="btn" href="#" onclick="alert('DEX link coming soon')">Buy $BARA</a>
              </div>
            </div>

            <!-- Right card: Meme chart -->
            <div class="card hero-art">
              <div class="chart-head">
                <div class="chip live">LIVE</div>
                <div class="chip sym">$BARA</div>
                <div class="spacer"></div>
                <button class="chip tf" data-speed="0.5">24h</button>
                <button class="chip tf active" data-speed="1.0">7d</button>
                <button class="chip tf" data-speed="1.8">1m</button>
              </div>

              <div class="chart-wrap">
                <canvas id="memeChart" aria-label="price chart"></canvas>
              </div>

              <div class="chart-foot">
                <div class="price" id="memePrice">$0.000000</div>
                <div class="delta up" id="memeDelta">+0.0%</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Overlaid GET $BARA image (behind cards) -->
        <img id="getBara" class="hero-floater" src="./assets/img/get-bara.png" alt="GET $BARA" />
      </section>

      <!-- SCENE 2: ABOUT -->
      <section class="scene" id="about">
        <div class="container reveal">
          <h2 class="section-title">About $Bara</h2>
          <div class="about">
            <div class="page">
              <h3>Game-Powered Token</h3>
              <p class="muted">Weekly leaderboards pay out $BARA + partner tokens. Easy to play, hard to master.</p>
            </div>
            <div class="page">
              <h3>Arcade Roadmap</h3>
              <p class="muted">Flappybara ‚Üí Endless runner ‚Üí PVP mini-duels. Seasonal events, NFT cosmetics, and cross-game boards.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- SCENE 3: ARCADE -->
      <section class="scene" id="arcade">
        <div class="container reveal">
          <h2 class="section-title">Arcade</h2>
          <div class="card">
            <div class="carousel">
              <div class="game">
                <div class="thumb"></div>
                <h4>Flappybara üêπ</h4>
                <p class="muted">Tap to dodge. Weekly prizes.</p>
                <button class="play" onclick="window.location.href='game/index.html'">Play</button>
              </div>
              <div class="game">
                <div class="thumb"></div>
                <h4>Capy Dash</h4>
                <p class="muted">Endless runner prototype.</p>
                <button class="play" onclick="alert('Coming soon')">Preview</button>
              </div>
              <div class="game">
                <div class="thumb"></div>
                <h4>Bararena</h4>
                <p class="muted">1v1 mini-duels.</p>
                <button class="play" onclick="alert('Coming soon')">Preview</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- SCENE 4: HOW TO BUY -->
      <section class="scene" id="how">
        <div class="container reveal">
          <h2 class="section-title">How to Buy</h2>
          <div class="steps">
            <div class="step"><b>1) Get a Wallet</b><br><span class="muted">Phantom or Backpack on Solana.</span></div>
            <div class="step"><b>2) Fund with SOL</b><br><span class="muted">On-ramp or CEX ‚Üí send to wallet.</span></div>
            <div class="step"><b>3) Swap for $BARA</b><br><span class="muted">Use our quick swap (soon) or Jupiter.</span></div>
          </div>
        </div>
      </section>

      <!-- SCENE 5: FAQ -->
      <section class="scene" id="faq">
        <div class="container reveal">
          <h2 class="section-title">FAQ</h2>
          <div class="faq">
            <details class="item">
              <summary>Is the contract renounced / taxes?</summary>
              <div class="content">0% / 0% taxes. Contract & LP details will be posted at launch.</div>
            </details>
            <details class="item">
              <summary>How do leaderboard rewards work?</summary>
              <div class="content">Weekly snapshots. Top ranks split a prize pool in $BARA + partner tokens. Anti-bot checks included.</div>
            </details>
            <details class="item">
              <summary>Will there be NFTs?</summary>
              <div class="content">Yes‚Äîcosmetic skins + early access perks. No pay-to-win.</div>
            </details>
          </div>
        </div>
      </section>

      <!-- SCENE 6: SOCIALS (tighter) -->
      <section class="scene scene-tight" id="socials">
        <div class="container reveal socials">
          <h2 class="section-title">Socials</h2>
          <div class="ring">
            <a class="icon" style="--i:0" href="#" title="X">X</a>
            <a class="icon" style="--i:1" href="#" title="Telegram">TG</a>
            <a class="icon" style="--i:2" href="#" title="Discord">DC</a>
            <a class="icon" style="--i:3" href="#" title="YouTube">YT</a>
            <a class="icon" style="--i:4" href="#" title="Spotify">SP</a>
            <a class="icon" style="--i:5" href="#" title="Instagram">IG</a>
            <a class="icon" style="--i:6" href="#" title="Website">WB</a>
            <a class="icon" style="--i:7" href="#" title="GitHub">GH</a>
          </div>
        </div>
      </section>
    </main>

    <footer>¬© 2025 $Bara ‚Ä¢ Arcade that pays to play</footer>
  </div>

  <!-- Hamburger toggle script -->
  <script>
    (function () {
      const nav = document.getElementById('siteNav');
      const btn = document.getElementById('navToggle');
      const menu = document.getElementById('navMenu');

      function closeMenu() {
        nav.classList.remove('open');
        btn.setAttribute('aria-expanded', 'false');
      }

      btn?.addEventListener('click', () => {
        const willOpen = !nav.classList.contains('open');
        nav.classList.toggle('open');
        btn.setAttribute('aria-expanded', String(willOpen));
      });

      // Close menu when clicking a link (mobile)
      menu?.querySelectorAll('a').forEach(a => {
        a.addEventListener('click', closeMenu);
      });

      // Close on escape
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeMenu();
      });
    })();
  </script>
</body>
</html>
