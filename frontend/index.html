<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>$Bara ‚Äî Arcade memecoin</title>

  <!-- Styles -->
  <link rel="stylesheet" href="./assets/css/style.css" />

  <!-- Libs -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1"></script>
  <script defer src="https://unpkg.com/swup@4"></script>

  <!-- App -->
  <script defer src="./assets/js/app.js"></script>

  <style>
    :root { --tap: 48px; }

    /* ===========================
       Top nav (matches game/)
       =========================== */
    .nav {
      position: sticky;
      top: 0;
      z-index: 1000;
      backdrop-filter: saturate(1.2) blur(6px);
    }
    .nav .nav-inner { display:flex; align-items:center; gap:16px; }
    .nav .logo      { flex:0 0 auto; }
    .nav .pill-nav  {
      display:flex; gap:10px; overflow-x:auto; -webkit-overflow-scrolling:touch; scrollbar-width:none;
      max-width:100%; align-items:center; flex:1 1 auto; justify-content:center;
    }
    .nav .pill-nav::-webkit-scrollbar { display:none; }
    .nav .cta { flex:0 0 auto; }

    .nav-toggle {
      display:none;
      background:none;
      border:1px solid rgba(255,255,255,.08);
      color:var(--ink);
      border-radius:12px;
      padding:8px 12px;
      font-size:20px;
      line-height:1;
      cursor:pointer;
    }

    @media (max-width: 640px) {
      .nav .nav-inner {
        gap:10px; padding-left:12px; padding-right:12px;
        display:grid; grid-template-columns:auto 1fr auto; align-items:center;
      }
      .nav .logo      { grid-column:1 / 2; }
      .nav-toggle     { display:inline-flex; align-items:center; justify-content:center; grid-column:2 / 3; justify-self:center; }
      .nav .cta       { grid-column:3 / 4; justify-self:end; }

      /* collapse pills by default */
      .nav .pill-nav  { display:none; }

      /* show when nav has .open */
      .nav.open .pill-nav {
        display:flex; flex-direction:column; gap:8px; padding:10px;
        background:rgba(10,14,28,.6); border:1px solid rgba(255,255,255,.06); border-radius:14px;
        grid-column:1 / -1;
      }
    }

    /* =======================================
       Kill scroll-snap ‚Äúpull‚Äù (phone+desktop)
       ======================================= */
    html, body, #swup, main { scroll-snap-type: none !important; }
    .scene { scroll-snap-align: unset !important; scroll-snap-stop: unset !important; }

    /* =======================================
       Smooth anchor scroll + sticky offset
       ======================================= */
    :root { --nav-offset: 96px; }  /* desktop header height */
    html { scroll-behavior: smooth; }

    /* ensure all sections + hero have the offset */
    #homeSection,
    #about,
    #arcade,
    #how,
    #faq,
    #roadmap,
    #socials {
      scroll-margin-top: var(--nav-offset);
    }

    @media (max-width: 640px) {
      :root { --nav-offset: 72px; }  /* phones */
      .scene.hero-scene { padding-top: 8px !important; }
      .scene:first-of-type { margin-top: 0 !important; }
    }

    /* =======================================
       Mobile polish for hero + about
       ======================================= */
    @media (max-width: 700px) {
      .hero-grid { display:grid; grid-template-columns:1fr; gap:12px; }
      .hero-art .chart-wrap { overflow:hidden; border-radius:inherit; }
      .hero-art .chart-wrap canvas { width:100% !important; height:auto !important; }
      .about { display:grid; grid-template-columns:1fr; gap:12px; }
      .about .page { min-width:0; }
      .scene .container { padding-left:12px; padding-right:12px; }
    }

    /* Prevent horizontal scroll on mobile */
    html, body { overflow-x:hidden; }
  </style>
</head>

<body>
  <!-- =======================================
       Starfield backdrop (canvas)
       ======================================= -->
  <canvas class="stars" aria-hidden="true"></canvas>

  <!-- =======================================
       Loader overlay (kept intact)
       ======================================= -->
  <div id="loader" class="loader" aria-live="polite">
    <!-- decor must be INSIDE the loader -->
    <div class="loader-decor" aria-hidden="true">
      <div class="ring"></div>
      <span class="dot d1"></span>
      <span class="dot d2"></span>
      <span class="dot d3"></span>
    </div>

    <div class="load-card">
      <img class="load-gif" src="./assets/img/loader.gif" alt="Loading..." />
      <div class="load-bar"><div class="load-fill" id="loadFill"></div></div>
      <div class="load-text" id="loadText">LOADING‚Ä¶</div>
      <div class="load-tip"  id="loadTip"></div>
    </div>
  </div>

  <!-- =======================================
       NAV
       ======================================= -->
  <nav class="nav" id="siteNav">
    <div class="nav-inner">
      <!-- in-page link so it scrolls, not reloads -->
      <a class="logo" href="#homeSection">üü£ <span>$Bara</span></a>

      <button class="nav-toggle" id="navToggle" aria-label="Menu" aria-expanded="false" aria-controls="navMenu">‚ò∞</button>

      <div class="pill-nav" id="navMenu">
        <!-- point to real section IDs -->
        <a class="pill" href="#homeSection">Home</a>
        <a class="pill" href="#about">About</a>
        <a class="pill" href="#arcade">Arcade</a>
        <a class="pill" href="#how">How to Buy</a>
        <a class="pill" href="#faq">FAQ</a>
        <a class="pill" href="#socials">Socials</a>
      </div>

      <a class="cta" href="javascript:void(0)" onclick="alert('Buy link coming soon')">Buy $BARA</a>
    </div>
  </nav>

  <!-- =======================================
       Swup page container (for transitions)
       ======================================= -->
  <div id="swup" class="transition-fade">
    <main id="home">

      <!-- ===========================
           SCENE 1: HERO
           =========================== -->
      <section class="scene hero-scene" id="homeSection">
        <div class="container">
          <div class="hero-grid reveal">
            <!-- Left card -->
            <div class="card">
              <h1 class="headline">Welcome to <span class="accent">Bara</span></h1>
              <p class="muted">Arcade-first memecoin. Clean vibes, crispy games, and a community that actually plays.</p>

              <div class="badges">
                <div class="badge">Ticker: <b>$BARA</b></div>
                <div class="badge">Chain: <b>Solana</b></div>
                <div class="badge">Supply: <b>1,000,000,000</b></div>
                <div class="badge">Tax: <b>0% / 0%</b></div>
              </div>

              <div class="cta-row">
                <a class="btn primary" href="#arcade">Enter Arcade</a>
                <a class="btn" href="javascript:void(0)" onclick="alert('DEX link coming soon')">Buy $BARA</a>
              </div>
            </div>

            <!-- Right card: Meme chart -->
            <div class="card hero-art">
              <div class="chart-head">
                <div class="chip live">LIVE</div>
                <div class="chip sym">$BARA</div>
                <div class="spacer"></div>
                <button class="chip tf" type="button" data-speed="0.5">24h</button>
                <button class="chip tf active" type="button" data-speed="1.0">7d</button>
                <button class="chip tf" type="button" data-speed="1.8">1m</button>
              </div>

              <div class="chart-wrap">
                <canvas id="memeChart" aria-label="price chart"></canvas>
                <div class="chart-note">Demo data ‚Äî live chart unlocks at launch</div>
              </div>

              <div class="chart-foot">
                <div class="price" id="memePrice">$0.000000</div>
                <div class="delta up" id="memeDelta">+0.0%</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Mascot (fades fully in/out) -->
        <img id="getBara" class="hero-floater" src="./assets/img/get-bara.png" alt="GET $BARA" />
      </section>

      <!-- ===========================
           SCENE 2: ABOUT
           =========================== -->
      <section class="scene" id="about">
        <div class="container reveal">
          <h2 class="section-title">About $BARA</h2>

          <div class="about">
            <div class="page">
              <h3>Arcade-First Memecoin</h3>
              <p class="muted">
                $BARA is built on Solana and designed to be played with. Our mission is to merge
                the simplicity of viral arcade games with crypto‚Äîso holding $BARA is fun,
                competitive, and rewarding.
              </p>
            </div>

            <div class="page">
              <h3>Why Arcade?</h3>
              <p class="muted">
                Arcade games are timeless: easy to start, hard to master. Climb the leaderboards,
                earn weekly rewards, and help shape the next drops and events with the community.
              </p>
            </div>

            <div class="page">
              <h3>What Makes $BARA Different</h3>
              <p class="muted">
                <b>Play-to-Earn Arcade</b> ‚Äî Weekly prize pools for top players.<br/>
                <b>Community First</b> ‚Äî Fun over over-complicated tokenomics.<br/>
                <b>NFT Perks (later)</b> ‚Äî Cosmetics & access; never pay-to-win.<br/>
                <b>Simple & Transparent</b> ‚Äî 0% buy/sell tax, clear supply, renounced contract.
              </p>
            </div>

            <div class="page">
              <h3>The Vision</h3>
              <p class="muted">
                Step by step we‚Äôll expand the Arcade with new titles, seasonal events, NFT cosmetics,
                and larger competitions‚Äîguided by the players who show up and play.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- ===========================
           SCENE 3: ARCADE
           =========================== -->
      <section class="scene" id="arcade">
        <div class="container reveal">
          <h2 class="section-title">Arcade</h2>

          <div class="arcade-row">
            <!-- GAME 1 ‚Äî Flappybara (live) -->
            <article class="game-card">
              <div class="thumb">
                <img src="assets/img/bara-fly.png" alt="Flappybara preview" />
              </div>
              <header class="game-head">
                <h4 class="game-title">Flappybara <span class="emoji">üß∏</span></h4>
                <p class="muted">Tap to dodge. Weekly prizes.</p>
              </header>
              <div class="game-actions">
                <button type="button" class="btn primary" onclick="window.location.href='game/index.html'">Play</button>
              </div>
            </article>

            <!-- GAME 2 ‚Äî Coming soon -->
            <article class="game-card soon">
              <div class="thumb"><span class="ribbon">COMING SOON</span></div>
              <header class="game-head">
                <h4 class="game-title">TBA</h4>
                <p class="muted">New title arriving after launch.</p>
              </header>
              <div class="game-actions">
                <button type="button" class="btn" disabled>Coming soon</button>
              </div>
            </article>

            <!-- GAME 3 ‚Äî Coming soon -->
            <article class="game-card soon">
              <div class="thumb"><span class="ribbon">COMING SOON</span></div>
              <header class="game-head">
                <h4 class="game-title">TBA</h4>
                <p class="muted">Revealed with the community.</p>
              </header>
              <div class="game-actions">
                <button type="button" class="btn" disabled>Coming soon</button>
              </div>
            </article>
          </div><!-- /.arcade-row -->
        </div><!-- /.container -->
      </section>

      <!-- ===========================
           SCENE 4: HOW TO BUY
           =========================== -->
      <section class="scene" id="how">
        <div class="container reveal">
          <h2 class="section-title">How to Buy</h2>

          <div class="steps">
            <div class="step">
              <b>1) Get a Wallet</b><br />
              <span class="muted">Phantom or Backpack on Solana.</span>
            </div>

            <div class="step">
              <b>2) Fund with SOL</b><br />
              <span class="muted">On-ramp or CEX ‚Üí send to wallet.</span>
            </div>

            <div class="step">
              <b>3) Swap for $BARA</b><br />
              <span class="muted">Use our quick swap (soon) or Jupiter.</span>
            </div>
          </div>
        </div>
      </section>

      <!-- ===========================
           SCENE 5: ROADMAP (kept)
           =========================== -->
      <section class="scene" id="roadmap">
        <div class="container reveal">
          <h2 class="section-title">Roadmap</h2>

          <div class="about">
            <div class="page">
              <h3>Phase 1 ‚Äî Arcade Awakens</h3>
              <p class="muted">
                ‚Ä¢ Website + branding live<br/>
                ‚Ä¢ First $BARA arcade game released<br/>
                ‚Ä¢ Leaderboards + weekly rewards enabled<br/>
                ‚Ä¢ Community building on Telegram / X<br/>
              </p>
            </div>

            <div class="page">
              <h3>Phase 2 ‚Äî The Launchpad</h3>
              <p class="muted">
                ‚Ä¢ Full token deployment & trading<br/>
                ‚Ä¢ Bigger weekly rewards and optimizations<br/>
                ‚Ä¢ Next arcade title announcement
              </p>
            </div>

            <div class="page">
              <h3>Phase 3 ‚Äî Growth Mode</h3>
              <p class="muted">
                ‚Ä¢ New games (revealed with the community)<br/>
                ‚Ä¢ Seasonal tournaments & events<br/>
                ‚Ä¢ Partner collaborations for cross-token rewards
              </p>
            </div>

            <div class="page">
              <h3>Phase 4 ‚Äî Ecosystem</h3>
              <p class="muted">
                ‚Ä¢ Multi-game Arcade Hub<br/>
                ‚Ä¢ DAO-style voting on features/games<br/>
                ‚Ä¢ Explore mobile app & broader integrations
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- ===========================
           SCENE 6: FAQ
           =========================== -->
      <section class="scene" id="faq">
        <div class="container reveal">
          <h2 class="section-title">FAQ</h2>

          <div class="faq">
            <details class="item" open>
              <summary>What is $BARA?</summary>
              <div class="content">
                $BARA is an arcade-first memecoin on Solana. Play our games, climb the leaderboards,
                and win rewards ‚Äî it‚Äôs crypto made fun.
              </div>
            </details>

            <details class="item">
              <summary>How do rewards work?</summary>
              <div class="content">
                Every week, top players on our leaderboards share prize pools in $BARA and sometimes
                partner tokens.
              </div>
            </details>

            <details class="item">
              <summary>What games are available?</summary>
              <div class="content">
                Our first game launches with $BARA. New titles will be revealed as the community grows.
              </div>
            </details>

            <details class="item">
              <summary>Will there be NFTs?</summary>
              <div class="content">
                Yes ‚Äî NFTs arrive later with cosmetics and perks.
              </div>
            </details>

            <details class="item">
              <summary>Is $BARA safe?</summary>
              <div class="content">
                0% buy/sell tax, transparent supply, and a renounced contract. Liquidity details will
                be shared at launch.
              </div>
            </details>

            <details class="item">
              <summary>How do I buy $BARA?</summary>
              <div class="content">
                Get a Solana wallet (Phantom/Backpack), fund with SOL, and swap for $BARA on launch.
                DEX links will be posted on the website and socials.
              </div>
            </details>
          </div>
        </div>
      </section>

      <!-- ===========================
           SCENE 7: SOCIALS
           =========================== -->
      <section class="scene scene-tight" id="socials">
        <div class="container reveal socials">
          <h2 class="section-title">Socials</h2>
          <div class="ring">
            <div class="ring-center">
              <span class="brand">$BARA</span>
              <span class="tag">Join us</span>
            </div>

            <!-- Links around the ring -->
            <a class="icon" style="--i:0" href="https://twitter.com/your-handle" target="_blank" rel="noopener">X</a>
            <span class="icon ghost" style="--i:1"></span>
            <a class="icon" style="--i:2" href="https://t.me/your-channel" target="_blank" rel="noopener">TG</a>
            <span class="icon ghost" style="--i:3"></span>
            <a class="icon" style="--i:4" href="https://dexscreener.com/yourpair" target="_blank" rel="noopener">DEX</a>
            <span class="icon ghost" style="--i:5"></span>
            <a class="icon" style="--i:6" href="https://www.tiktok.com/@your-handle" target="_blank" rel="noopener">TT</a>
            <span class="icon ghost" style="--i:7"></span>
          </div>
        </div>
      </section>

    </main>

    <footer>¬© 2025 $Bara ‚Ä¢ Arcade that pays to play</footer>
  </div><!-- /#swup -->

  <!-- =======================================
       Scripts
       ======================================= -->

  <!-- Prevent auto scroll restoration that can shove the page -->
  <script>
    if ('scrollRestoration' in history) history.scrollRestoration = 'manual';
  </script>

  <!-- Block stray href="#" reloads (safety net for placeholder links) -->
  <script>
    document.addEventListener('click', e => {
      const a = e.target.closest('a[href="#"]');
      if (a) e.preventDefault();
    });
  </script>

  <!-- Hamburger toggle -->
  <script>
    (function () {
      const nav  = document.getElementById('siteNav');
      const btn  = document.getElementById('navToggle');
      const menu = document.getElementById('navMenu');

      function closeMenu() {
        nav.classList.remove('open');
        if (btn) btn.setAttribute('aria-expanded', 'false');
      }

      if (btn) {
        btn.addEventListener('click', () => {
          const willOpen = !nav.classList.contains('open');
          nav.classList.toggle('open');
          btn.setAttribute('aria-expanded', String(willOpen));
        });
      }

      // Close when clicking a link (mobile)
      if (menu) {
        menu.querySelectorAll('a').forEach(a => a.addEventListener('click', closeMenu));
      }

      // Close on Escape
      document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeMenu(); });
    })();
  </script>

  <!-- Anchor scroll fix (bypass Swup for in-page links) -->
  <script>
    (function () {
      const nav = document.getElementById('siteNav');

      function handleNavClick(e) {
        const a = e.target.closest('a');
        if (!a || !nav.contains(a)) return;

        // allow modifier-clicks to behave normally
        if (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey || a.target === '_blank') return;

        const href = a.getAttribute('href') || '';

        // extract #hash from "#about" OR "/#about"
        const m = href.match(/(?:^|\/)(#[-\w]+)/);
        if (!m) return; // not an in-page anchor

        const hash   = m[1];
        const target = document.querySelector(hash);
        if (!target) return;

        // prevent Swup/default navigation, smooth scroll ourselves
        e.preventDefault();
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });

        // update the URL without reload
        if (history.pushState) history.pushState(null, '', hash);
        else location.hash = hash;
      }

      nav.addEventListener('click', handleNavClick, true);
    })();
  </script>

  <!-- Optional: fade out the loader when content is ready -->
  <script>
    (function () {
      function hideLoader() {
        const loader = document.getElementById('loader');
        if (!loader) return;
        loader.style.transition = 'opacity .35s ease';
        loader.style.opacity = '0';
        setTimeout(() => loader.style.display = 'none', 400);
      }

      // When DOM ready
      if (document.readyState === 'complete' || document.readyState === 'interactive') {
        setTimeout(hideLoader, 50);
      } else {
        document.addEventListener('DOMContentLoaded', () => setTimeout(hideLoader, 50));
      }
    })();

    (function () {
    const mascot = document.getElementById('getBara');
    const hero   = document.getElementById('homeSection');

    if (mascot && hero) {
      const observer = new IntersectionObserver(
        entries => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              mascot.classList.add('visible');   // fade in
            } else {
              mascot.classList.remove('visible'); // fade out
            }
          });
        },
        { threshold: 0.4 } // visible if 40% of hero in view
      );
      observer.observe(hero);
    }
  })();

  </script>

</body>
</html>
